<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>محول مواقع الويب إلى تطبيقات APK</title>
    <style>
        :root {
            --primary-color: #222222;
            --secondary-color: #444444;
            --background-color: #f8f8f8;
            --card-color: #ffffff;
            --text-color: #333333;
            --border-color: #dddddd;
            --success-color: #4a4a4a;
            --error-color: #b71c1c;
            --warning-color: #f57c00;
            --info-color: #2196f3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            direction: rtl;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1.5rem;
            border-radius: 4px;
            margin-bottom: 2rem;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            font-weight: 400;
        }

        .card {
            background-color: var(--card-color);
            border-radius: 4px;
            padding: 1.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
            border: 1px solid var(--border-color);
        }

        h2 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            font-weight: 500;
            color: var(--primary-color);
        }

        .workflow {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .workflow-step {
            background-color: var(--card-color);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 1rem;
            flex-basis: calc(33.33% - 10px);
            margin-bottom: 1rem;
        }

        .step-number {
            display: inline-block;
            width: 24px;
            height: 24px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            font-size: 0.9rem;
            margin-bottom: 0.7rem;
        }

        .workflow-step h3 {
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            font-weight: 500;
        }

        form {
            margin-top: 1rem;
        }

        .form-group {
            margin-bottom: 1.2rem;
        }

        label {
            display: block;
            margin-bottom: 0.4rem;
            font-weight: 500;
            font-size: 0.95rem;
        }

        input[type="text"], input[type="url"], input[type="file"], select, textarea {
            width: 100%;
            padding: 0.7rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 0.95rem;
            background-color: #fafafa;
        }

        input[type="text"]:focus, input[type="url"]:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary-color);
            background-color: white;
        }

        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 0.7rem 1.2rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.2s ease;
        }

        .btn:hover {
            background-color: var(--secondary-color);
        }

        .btn-convert {
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
        }

        .btn-convert:hover {
            opacity: 0.9;
        }

        .loading {
            display: none;
            margin: 1.5rem 0;
        }

        .console {
            background-color: #1e1e1e;
            color: #f1f1f1;
            padding: 1rem;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
            height: 200px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }

        .console-line {
            margin-bottom: 0.3rem;
            line-height: 1.4;
        }

        .console-info {
            color: #63c0f5;
        }

        .console-warning {
            color: #f5a623;
        }

        .console-error {
            color: #ff6b6b;
        }

        .console-success {
            color: #8bc34a;
        }

        .result {
            display: none;
            padding: 1rem;
            border-radius: 4px;
            margin-top: 1.5rem;
            text-align: center;
            background-color: #fafafa;
            border: 1px solid var(--success-color);
        }

        .download-btn {
            margin-top: 1rem;
            background-color: var(--primary-color);
        }

        .download-btn:hover {
            background-color: var(--secondary-color);
        }

        .preview {
            margin-top: 2rem;
        }

        .phone-preview {
            display: inline-block;
            width: 280px;
            height: 550px;
            background-color: #111;
            border-radius: 20px;
            padding: 15px 10px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin: 0 auto;
        }

        .screen {
            width: 100%;
            height: 100%;
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .app-header {
            height: 50px;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            padding: 0 15px;
        }

        .app-icon {
            width: 30px;
            height: 30px;
            background-color: white;
            border-radius: 8px;
            margin-left: 10px;
        }

        .app-title {
            color: white;
            font-weight: 500;
            font-size: 0.95rem;
        }

        .app-content {
            padding: 15px;
            height: calc(100% - 50px);
            overflow-y: auto;
            text-align: right;
            font-size: 0.8rem;
        }

        .toggle-section {
            display: block;
            color: var(--primary-color);
            cursor: pointer;
            font-weight: 500;
            margin: 1rem 0;
        }

        .tabs {
            display: flex;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            border: 1px solid transparent;
            border-bottom: none;
            border-radius: 4px 4px 0 0;
            margin-left: 5px;
            font-size: 0.9rem;
        }

        .tab.active {
            background-color: var(--card-color);
            border-color: var(--border-color);
            font-weight: 500;
            color: var(--primary-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .info-box {
            padding: 0.8rem;
            background-color: #f5f5f5;
            border-radius: 4px;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .info-box.warning {
            background-color: #fff8e1;
            border-left: 3px solid #f57c00;
        }

        .info-box.info {
            background-color: #e3f2fd;
            border-left: 3px solid #2196f3;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
        }

        .checkbox-item {
            flex-basis: 50%;
            margin-bottom: 0.5rem;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        footer {
            text-align: center;
            margin-top: 2rem;
            padding: 1rem;
            font-size: 0.9rem;
            color: #777;
        }

        .error-message {
            color: var(--error-color);
            font-size: 0.85rem;
            margin-top: 0.3rem;
            display: none;
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin: 1rem 0;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .placeholder-img {
            background-color: #f0f0f0;
            height: 20px;
            margin: 10px 0;
            width: 100%;
            animation: placeholder-pulse 1.5s infinite;
        }

        @keyframes placeholder-pulse {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
        }

        .preview-browser {
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            height: 400px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .preview-browser-header {
            height: 30px;
            background-color: #f5f5f5;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            padding: 0 10px;
        }

        .preview-browser-content {
            height: calc(100% - 30px);
            overflow: auto;
        }

        .preview-browser-content iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .preview-browser-url {
            flex: 1;
            background-color: white;
            border-radius: 15px;
            padding: 3px 10px;
            font-size: 0.8rem;
            color: #555;
            text-align: left;
            direction: ltr;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .preview-browser-circles {
            display: flex;
            margin-left: 10px;
        }

        .preview-browser-circle {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-left: 5px;
        }

        .preview-browser-circle:nth-child(1) {
            background-color: #ff6b6b;
        }

        .preview-browser-circle:nth-child(2) {
            background-color: #feca57;
        }

        .preview-browser-circle:nth-child(3) {
            background-color: #1dd1a1;
        }

        .qr-code-container {
            text-align: center;
            margin: 1rem 0;
        }

        .qr-code {
            width: 150px;
            height: 150px;
            background-color: white;
            padding: 10px;
            border-radius: 4px;
            margin: 0 auto;
            display: inline-block;
        }

        .build-detail {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid #eee;
            padding: 8px 0;
            font-size: 0.9rem;
        }

        .build-detail-label {
            font-weight: 500;
            color: #555;
        }

        .build-steps {
            margin: 1rem 0;
        }

        .build-step {
            display: flex;
            margin-bottom: 0.5rem;
            align-items: center;
        }

        .build-step-status {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-left: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
        }

        .build-step-status.pending {
            background-color: #e0e0e0;
        }

        .build-step-status.progress {
            background-color: #ffb74d;
        }

        .build-step-status.completed {
            background-color: #66bb6a;
        }

        .build-step-status.failed {
            background-color: #e53935;
        }

        .app-settings-preview {
            background-color: #f5f5f5;
            border-radius: 4px;
            padding: 1rem;
            margin-top: 1rem;
        }

        /* شريط العد التنازلي */
        .time-remaining {
            background-color: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            padding: 10px 15px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .time-display {
            font-size: 1.2rem;
            font-weight: 500;
            color: var(--primary-color);
        }

        .time-label {
            font-size: 0.9rem;
            color: #666;
        }

        .time-progress {
            background-color: #f0f0f0;
            height: 6px;
            border-radius: 3px;
            margin-top: 8px;
            overflow: hidden;
        }

        .time-bar {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 1s linear;
        }

        /* عناصر الباركود QR المحسّن */
        .qr-code {
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .qr-code canvas {
            width: 100%;
            height: 100%;
        }

        /* تحسين الخطوات */
        .build-step-label {
            display: flex;
            justify-content: space-between;
            width: 100%;
            align-items: center;
        }

        .build-step-time {
            font-size: 0.8rem;
            color: #777;
            margin-right: 10px;
        }

        /* تحسين عرض التطبيق النهائي */
        .final-app-preview {
            background-color: #f8f8f8;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .apk-info {
            background-color: #f0f7ff;
            border-radius: 4px;
            padding: 10px;
            margin-top: 15px;
            text-align: right;
            font-size: 0.9rem;
        }

        .apk-meta {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px dashed #e0e0e0;
        }

        .apk-meta:last-child {
            border-bottom: none;
        }

        .apk-meta-label {
            font-weight: 500;
            color: #555;
        }

        /* مؤشر قياس الأداء للتطبيق المحول */
        .performance-meter {
            background-color: white;
            border-radius: 4px;
            padding: 12px;
            margin-top: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .meter-item {
            margin-bottom: 10px;
        }

        .meter-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .meter-bar {
            height: 6px;
            background-color: #eee;
            border-radius: 3px;
            overflow: hidden;
        }

        .meter-value {
            height: 100%;
            border-radius: 3px;
        }

        .meter-value.excellent {
            background-color: #4caf50;
        }

        .meter-value.good {
            background-color: #8bc34a;
        }

        .meter-value.average {
            background-color: #ffc107;
        }

        .meter-value.poor {
            background-color: #ff5722;
        }

        /* مؤشر الحجم والسرعة */
        .app-size-indicator {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 4px;
        }

        .size-item {
            text-align: center;
            flex: 1;
        }

        .size-value {
            font-size: 1.2rem;
            font-weight: 500;
            color: var(--primary-color);
        }

        .size-label {
            font-size: 0.8rem;
            color: #666;
        }

        /* تحسين الكونسول */
        .smart-console {
            background-color: #1e1e1e;
            color: #f1f1f1;
            padding: 1rem;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
            height: 200px;
            overflow-y: auto;
            margin-bottom: 1rem;
            position: relative;
        }

        .console-prompt {
            display: inline-block;
            color: #4caf50;
            margin-right: 5px;
        }

        .console-command {
            color: #f1f1f1;
        }

        .console-output {
            color: #bbb;
            padding-left: 15px;
            margin-bottom: 5px;
        }

        .console-header {
            padding: 5px 10px;
            background-color: #333;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .console-title {
            color: #ddd;
        }

        .console-action {
            color: #aaa;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .console-action:hover {
            color: #fff;
        }

        @media (max-width: 768px) {
            .workflow-step {
                flex-basis: 100%;
            }
            
            .checkbox-item {
                flex-basis: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>محول مواقع الويب إلى تطبيقات APK</h1>
            <p class="subtitle">أداة احترافية لتحويل المواقع إلى تطبيقات أندرويد</p>
        </header>

        <div class="workflow">
            <div class="workflow-step">
                <div class="step-number">1</div>
                <h3>إدخال رابط الموقع</h3>
                <p>أدخل رابط الموقع المراد تحويله</p>
            </div>
            <div class="workflow-step">
                <div class="step-number">2</div>
                <h3>تحديد إعدادات التطبيق</h3>
                <p>خصص اسم التطبيق والأيقونة والإعدادات الأخرى</p>
            </div>
            <div class="workflow-step">
                <div class="step-number">3</div>
                <h3>تحويل وتحميل</h3>
                <p>تحقق من نجاح التحويل وقم بتحميل ملف APK</p>
            </div>
        </div>

        <div class="card">
            <h2>إنشاء تطبيق APK</h2>
            
            <div class="info-box info">
                تأكد من صحة رابط الموقع وتوافقه مع معايير الأمان قبل التحويل. الخادم يدعم تحويل مواقع HTTP وHTTPS.
            </div>

            <form id="converterForm">
                <div class="form-group">
                    <label for="url">رابط الموقع *</label>
                    <input type="url" id="url" name="url" placeholder="https://example.com" required>
                    <div class="error-message" id="urlError">الرجاء إدخال رابط صحيح</div>
                </div>

                <div class="form-group">
                    <label for="appName">اسم التطبيق *</label>
                    <input type="text" id="appName" name="appName" placeholder="اسم التطبيق" required>
                    <div class="error-message" id="appNameError">الرجاء إدخال اسم التطبيق</div>
                </div>

                <div class="form-group">
                    <label for="appIcon">أيقونة التطبيق (PNG، 512×512px) *</label>
                    <input type="file" id="appIcon" name="appIcon" accept="image/png, image/jpeg" required>
                    <div class="error-message" id="appIconError">الرجاء اختيار صورة بالحجم المناسب</div>
                </div>

                <div class="toggle-section" id="toggleAdvanced">عرض الإعدادات المتقدمة ↓</div>

                <div id="advancedSettings" style="display: none;">
                    <div class="tabs">
                        <div class="tab active" data-tab="general">إعدادات عامة</div>
                        <div class="tab" data-tab="technical">إعدادات تقنية</div>
                        <div class="tab" data-tab="optimization">تحسينات</div>
                    </div>

                    <div class="tab-content active" id="general">
                        <div class="form-group">
                            <label for="packageName">اسم الحزمة</label>
                            <input type="text" id="packageName" name="packageName" placeholder="com.example.app">
                            <div class="error-message" id="packageNameError">يجب أن يكون اسم الحزمة على شكل com.example.app</div>
                        </div>
                        <div class="form-group">
                            <label for="versionName">رقم الإصدار</label>
                            <input type="text" id="versionName" name="versionName" placeholder="1.0.0" value="1.0.0">
                        </div>
                        <div class="form-group">
                            <label for="versionCode">كود الإصدار</label>
                            <input type="text" id="versionCode" name="versionCode" placeholder="1" value="1">
                        </div>
                        <div class="form-group">
                            <label for="splashScreen">شاشة البداية</label>
                            <select id="splashScreen" name="splashScreen">
                                <option value="none">بدون شاشة بداية</option>
                                <option value="basic" selected>شاشة بداية بسيطة</option>
                                <option value="animated">شاشة بداية متحركة</option>
                            </select>
                        </div>
                    </div>

                    <div class="tab-content" id="technical">
                        <div class="form-group">
                            <label for="minSdkVersion">الحد الأدنى من SDK</label>
                            <select id="minSdkVersion" name="minSdkVersion">
                                <option value="21">API 21 (Android 5.0)</option>
                                <option value="23" selected>API 23 (Android 6.0)</option>
                                <option value="26">API 26 (Android 8.0)</option>
                                <option value="28">API 28 (Android 9.0)</option>
                                <option value="29">API 29 (Android 10.0)</option>
                                <option value="30">API 30 (Android 11.0)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>الأذونات المطلوبة</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="internet" name="permissions" value="internet" checked>
                                    <label for="internet">الإنترنت</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="storage" name="permissions" value="storage">
                                    <label for="storage">التخزين</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="location" name="permissions" value="location">
                                    <label for="location">الموقع</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="camera" name="permissions" value="camera">
                                    <label for="camera">الكاميرا</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="microphone" name="permissions" value="microphone">
                                    <label for="microphone">الميكروفون</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="notifications" name="permissions" value="notifications" checked>
                                    <label for="notifications">الإشعارات</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="buildType">نوع البناء</label>
                            <select id="buildType" name="buildType">
                                <option value="debug">بناء للتطوير (Debug)</option>
                                <option value="release" selected>بناء للنشر (Release)</option>
                            </select>
                        </div>
                    </div>

                    <div class="tab-content" id="optimization">
                        <div class="form-group">
                            <label for="caching">استراتيجية التخزين المؤقت</label>
                            <select id="caching" name="caching">
                                <option value="none">بدون تخزين مؤقت</option>
                                <option value="basic" selected>تخزين مؤقت أساسي</option>
                                <option value="advanced">تخزين مؤقت متقدم</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="resourceCompression">ضغط الموارد</label>
                            <select id="resourceCompression" name="resourceCompression">
                                <option value="none">بدون ضغط</option>
                                <option value="basic" selected>ضغط أساسي</option>
                                <option value="high">ضغط عالي</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="offlineMode">وضع عدم الاتصال</label>
                            <select id="offlineMode" name="offlineMode">
                                <option value="none">غير متاح</option>
                                <option value="basic" selected>أساسي (الصفحة الرئيسية فقط)</option>
                                <option value="advanced">متقدم (الموقع بالكامل)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="webViewOptimization">تحسينات WebView</label>
                            <select id="webViewOptimization" name="webViewOptimization">
                                <option value="basic">أساسي</option>
                                <option value="advanced" selected>متقدم (JavaScript مفعّل، ميزات حديثة)</option>
                                <option value="extreme">قصوى (تحسين السرعة والأداء مع دعم PWA)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn btn-convert">تحويل إلى تطبيق APK</button>
            </form>
        </div>

        <div class="loading" id="loading">
            <div class="card">
                <h2>جاري تحويل الموقع إلى تطبيق...</h2>
                
                <!-- شريط العد التنازلي -->
                <div class="time-remaining" id="timeRemaining">
                    <div>
                        <div class="time-label">الوقت المتبقي للتحويل</div>
                        <div class="time-display" id="timeDisplay">00:00</div>
                    </div>
                    <div style="flex: 1; margin: 0 15px;">
                        <div class="time-progress">
                            <div class="time-bar" id="timeBar"></div>
                        </div>
                    </div>
                    <div>
                        <div class="time-label">التقدم الكلي</div>
                        <div class="time-display" id="timePercentage">0%</div>
                    </div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                
                <!-- كونسول محسّن -->
                <div class="smart-console" id="console">
                    <div class="console-line console-info">> بدء عملية التحويل...</div>
                </div>
                
                <div class="build-steps" id="buildSteps">
                    <div class="build-step">
                        <div class="build-step-status pending" id="step-fetch">1</div>
                        <div class="build-step-label">
                            <span>تحميل وتحليل محتوى الموقع</span>
                            <span class="build-step-time" id="step-fetch-time">0:00</span>
                        </div>
                    </div>
                    <div class="build-step">
                        <div class="build-step-status pending" id="step-prepare">2</div>
                        <div class="build-step-label">
                            <span>إعداد بنية مشروع أندرويد</span>
                            <span class="build-step-time" id="step-prepare-time">0:00</span>
                        </div>
                    </div>
                    <div class="build-step">
                        <div class="build-step-status pending" id="step-assets">3</div>
                        <div class="build-step-label">
                            <span>تحسين الأصول والموارد</span>
                            <span class="build-step-time" id="step-assets-time">0:00</span>
                        </div>
                    </div>
                    <div class="build-step">
                        <div class="build-step-status pending" id="step-webview">4</div>
                        <div class="build-step-label">
                            <span>تكوين WebView وإعدادات التطبيق</span>
                            <span class="build-step-time" id="step-webview-time">0:00</span>
                        </div>
                    </div>
                    <div class="build-step">
                        <div class="build-step-status pending" id="step-manifest">5</div>
                        <div class="build-step-label">
                            <span>إنشاء ملف AndroidManifest.xml</span>
                            <span class="build-step-time" id="step-manifest-time">0:00</span>
                        </div>
                    </div>
                    <div class="build-step">
                        <div class="build-step-status pending" id="step-compile">6</div>
                        <div class="build-step-label">
                            <span>ترجمة وبناء حزمة APK</span>
                            <span class="build-step-time" id="step-compile-time">0:00</span>
                        </div>
                    </div>
                    <div class="build-step">
                        <div class="build-step-status pending" id="step-sign">7</div>
                        <div class="build-step-label">
                            <span>توقيع وتحسين التطبيق</span>
                            <span class="build-step-time" id="step-sign-time">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="result" id="result">
            <div class="card">
                <h2>تم التحويل بنجاح</h2>
                <p>تم إنشاء تطبيق APK للموقع بنجاح. يمكنك الآن تحميل الملف واستخدامه على أجهزة أندرويد.</p>
                
                <!-- عرض معلومات التطبيق النهائي -->
                <div class="final-app-preview">
                    <h3 style="margin-bottom: 15px;" id="finalAppName">اسم التطبيق</h3>
                    <div style="display: flex; justify-content: center; margin-bottom: 15px;">
                        <div id="finalAppIcon" style="width: 80px; height: 80px; background-color: #f0f0f0; border-radius: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);"></div>
                    </div>
                    
                    <div class="app-size-indicator">
                        <div class="size-item">
                            <div class="size-value" id="finalAppSize">0 MB</div>
                            <div class="size-label">حجم التطبيق</div>
                        </div>
                        <div class="size-item">
                            <div class="size-value" id="finalAppStartup">0 ثانية</div>
                            <div class="size-label">سرعة التشغيل</div>
                        </div>
                        <div class="size-item">
                            <div class="size-value" id="finalAppApi">API 23+</div>
                            <div class="size-label">متوافق مع</div>
                        </div>
                    </div>
                    
                    <div class="performance-meter">
                        <h4 style="margin-bottom: 15px; font-size: 0.9rem; color: #555;">أداء التطبيق</h4>
                        
                        <div class="meter-item">
                            <div class="meter-label">
                                <span>سرعة التحميل</span>
                                <span>ممتاز</span>
                            </div>
                            <div class="meter-bar">
                                <div class="meter-value excellent" style="width: 92%;"></div>
                            </div>
                        </div>
                        
                        <div class="meter-item">
                            <div class="meter-label">
                                <span>دعم وضع عدم الاتصال</span>
                                <span>جيد</span>
                            </div>
                            <div class="meter-bar">
                                <div class="meter-value good" style="width: 75%;"></div>
                            </div>
                        </div>
                        
                        <div class="meter-item">
                            <div class="meter-label">
                                <span>استجابة واجهة المستخدم</span>
                                <span>ممتاز</span>
                            </div>
                            <div class="meter-bar">
                                <div class="meter-value excellent" style="width: 95%;"></div>
                            </div>
                        </div>
                        
                        <div class="meter-item">
                            <div class="meter-label">
                                <span>استهلاك الذاكرة</span>
                                <span>جيد جداً</span>
                            </div>
                            <div class="meter-bar">
                                <div class="meter-value good" style="width: 85%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="qr-code-container">
                    <div class="qr-code" id="apkQrCode">
                        <!-- QR code will be generated here -->
                    </div>
                    <p>امسح رمز QR لتحميل التطبيق مباشرة</p>
                </div>
                
                <div class="info-box warning">
                    قد تحتاج إلى تفعيل خيار "التثبيت من مصادر غير معروفة" على جهازك لتثبيت التطبيق.
                </div>
                
                <button class="btn download-btn" id="downloadBtn">تحميل ملف APK</button>
                
                <div style="margin-top: 2rem;">
                    <h3>تفاصيل البناء</h3>
                    <div class="app-settings-preview" id="appSettingsPreview">
                        <!-- App settings will be shown here -->
                    </div>
                    
                    <div class="form-group" style="margin-top: 1rem;">
                        <label for="buildLog">سجل البناء</label>
                        <textarea id="buildLog" rows="8" readonly></textarea>
                    </div>
                </div>
            </div>
        </div>

        <div class="preview">
            <div class="card">
                <h2>معاينة التطبيق</h2>
                
                <div class="preview-browser" id="previewBrowser">
                    <div class="preview-browser-header">
                        <div class="preview-browser-circles">
                            <div class="preview-browser-circle"></div>
                            <div class="preview-browser-circle"></div>
                            <div class="preview-browser-circle"></div>
                        </div>
                        <div class="preview-browser-url" id="previewUrl">https://example.com</div>
                    </div>
                    <div class="preview-browser-content" id="previewBrowserContent">
                        <!-- Website preview will be shown here -->
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <div class="phone-preview">
                        <div class="screen">
                            <div class="app-header">
                                <div class="app-icon" id="previewIcon"></div>
                                <div class="app-title" id="previewTitle">اسم التطبيق</div>
                            </div>
                            <div class="app-content" id="previewContent">
                                <p>سيظهر هنا محتوى موقع الويب الخاص بك</p>
                                <p>أدخل رابط الموقع وسيتم عرض معاينة له هنا</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            محول مواقع الويب إلى تطبيقات APK - إصدار 2.0.0
        </footer>
    </div>

    <script>
        // Toggle advanced settings
        document.getElementById('toggleAdvanced').addEventListener('click', function() {
            const advancedSettings = document.getElementById('advancedSettings');
            if (advancedSettings.style.display === 'none') {
                advancedSettings.style.display = 'block';
                this.textContent = 'إخفاء الإعدادات المتقدمة ↑';
            } else {
                advancedSettings.style.display = 'none';
                this.textContent = 'عرض الإعدادات المتقدمة ↓';
            }
        });

        // Tab system
        const tabs = document.querySelectorAll('.tab');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs and contents
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to current tab and content
                tab.classList.add('active');
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Form validation
        function validateForm() {
            let isValid = true;
            
            // Validate URL
            const url = document.getElementById('url');
            const urlError = document.getElementById('urlError');
            if (!url.value || !url.value.match(/^(https?:\/\/)([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(\/.*)?$/)) {
                urlError.style.display = 'block';
                isValid = false;
            } else {
                urlError.style.display = 'none';
            }
            
            // Validate app name
            const appName = document.getElementById('appName');
            const appNameError = document.getElementById('appNameError');
            if (!appName.value.trim()) {
                appNameError.style.display = 'block';
                isValid = false;
            } else {
                appNameError.style.display = 'none';
            }
            
            // Validate app icon
            const appIcon = document.getElementById('appIcon');
            const appIconError = document.getElementById('appIconError');
            if (!appIcon.files || !appIcon.files[0]) {
                appIconError.style.display = 'block';
                isValid = false;
            } else {
                appIconError.style.display = 'none';
            }
            
            // Validate package name if provided
            const packageName = document.getElementById('packageName');
            const packageNameError = document.getElementById('packageNameError');
            if (packageName.value && !packageName.value.match(/^[a-z][a-z0-9_]*(\.[a-z][a-z0-9_]*)+$/)) {
                packageNameError.style.display = 'block';
                isValid = false;
            } else {
                packageNameError.style.display = 'none';
            }
            
            return isValid;
        }

        // Console logger
        function log(message, type = 'info') {
            const console = document.getElementById('console');
            const line = document.createElement('div');
            line.className = `console-line console-${type}`;
            line.textContent = `> ${message}`;
            console.appendChild(line);
            console.scrollTop = console.scrollHeight;
        }

        // Log a command with output
        function logCommand(command, outputs = [], type = 'info') {
            const console = document.getElementById('console');
            
            // Log the command
            const commandLine = document.createElement('div');
            commandLine.className = 'console-line';
            commandLine.innerHTML = `<span class="console-prompt">$</span> <span class="console-command">${command}</span>`;
            console.appendChild(commandLine);
            
            // Log each output
            outputs.forEach(output => {
                const outputLine = document.createElement('div');
                outputLine.className = `console-output console-${type}`;
                outputLine.textContent = output;
                console.appendChild(outputLine);
            });
            
            console.scrollTop = console.scrollHeight;
        }

        // Progress bar updater
        function updateProgress(percent) {
            document.getElementById('progressBar').style.width = `${percent}%`;
            document.getElementById('timePercentage').textContent = `${Math.round(percent)}%`;
            document.getElementById('timeBar').style.width = `${percent}%`;
        }

        // Update build step status
        function updateBuildStep(step, status, timeSpent = null) {
            const stepElement = document.getElementById(`step-${step}`);
            stepElement.className = `build-step-status ${status}`;
            
            if (status === 'completed') {
                stepElement.innerHTML = '✓';
                if (timeSpent) {
                    document.getElementById(`step-${step}-time`).textContent = timeSpent;
                }
            } else if (status === 'failed') {
                stepElement.innerHTML = '✗';
                if (timeSpent) {
                    document.getElementById(`step-${step}-time`).textContent = timeSpent;
                }
            } else if (status === 'progress') {
                stepElement.innerHTML = '●';
                startStepTimer(step);
            } else {
                stepElement.innerHTML = step.toString().slice(-1);
            }
        }

        // العد التنازلي للوقت المتبقي للتحويل
        let conversionTimeLeft = 0;
        let conversionTimerInterval;
        let stepTimers = {};

        function startConversionTimer(totalSeconds) {
            conversionTimeLeft = totalSeconds;
            clearInterval(conversionTimerInterval);
            
            conversionTimerInterval = setInterval(() => {
                conversionTimeLeft--;
                
                if (conversionTimeLeft <= 0) {
                    clearInterval(conversionTimerInterval);
                    conversionTimeLeft = 0;
                }
                
                const minutes = Math.floor(conversionTimeLeft / 60);
                const seconds = conversionTimeLeft % 60;
                document.getElementById('timeDisplay').textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        function startStepTimer(step) {
            if (stepTimers[step]) {
                clearInterval(stepTimers[step].interval);
            }
            
            const startTime = Date.now();
            let elapsed = 0;
            
            stepTimers[step] = {
                startTime: startTime,
                interval: setInterval(() => {
                    elapsed = Math.floor((Date.now() - startTime) / 1000);
                    const minutes = Math.floor(elapsed / 60);
                    const seconds = elapsed % 60;
                    document.getElementById(`step-${step}-time`).textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                }, 1000)
            };
        }

        function stopStepTimer(step) {
            if (stepTimers[step]) {
                clearInterval(stepTimers[step].interval);
                const elapsed = Math.floor((Date.now() - stepTimers[step].startTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                return `${minutes}:${seconds.toString().padStart(2, '0')}`;
            }
            return "0:00";
        }

        // Generate QR code with better visual representation
        function generateQRCode(data = "https://example.com/download/app.apk") {
            const qrCode = document.getElementById('apkQrCode');
            qrCode.innerHTML = '';
            
            // Create a canvas for the QR code
            const canvas = document.createElement('canvas');
            canvas.width = 150;
            canvas.height = 150;
            qrCode.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            const cellSize = Math.floor(canvas.width / 33); // QR code size (version 4)
            const margin = Math.floor((canvas.width - cellSize * 29) / 2);
            
            // Draw white background
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Generate QR code data (simulated)
            // This would normally use a QR code generation library
            const fakeQR = generateSimulatedQRMatrix(data, 29);
            
            // Draw QR cells
            ctx.fillStyle = '#000000';
            for (let y = 0; y < fakeQR.length; y++) {
                for (let x = 0; x < fakeQR[y].length; x++) {
                    if (fakeQR[y][x]) {
                        ctx.fillRect(
                            margin + x * cellSize, 
                            margin + y * cellSize, 
                            cellSize, 
                            cellSize
                        );
                    }
                }
            }
            
            // Add finder patterns (the three big squares in corners)
            drawFinderPattern(ctx, margin, margin, cellSize);
            drawFinderPattern(ctx, margin + (fakeQR.length - 7) * cellSize, margin, cellSize);
            drawFinderPattern(ctx, margin, margin + (fakeQR.length - 7) * cellSize, cellSize);
            
            // Add alignment pattern (smaller square near bottom right)
            drawAlignmentPattern(ctx, margin + 20 * cellSize, margin + 20 * cellSize, cellSize);
            
            return data; // Return the data URL for download
        }

        // Helper function to generate a simulated QR code matrix
        function generateSimulatedQRMatrix(data, size) {
            const matrix = Array(size).fill().map(() => Array(size).fill(0));
            
            // Fill with a somewhat random pattern based on the data string
            const dataSum = data.split('').reduce((sum, char) => sum + char.charCodeAt(0), 0);
            
            for (let y = 0; y < size; y++) {
                for (let x = 0; x < size; x++) {
                    // Skip finder pattern areas
                    if ((x < 7 && y < 7) || (x >= size - 7 && y < 7) || (x < 7 && y >= size - 7)) {
                        continue;
                    }
                    
                    // Create a deterministic pattern based on coordinates and data
                    const value = (x * y + dataSum + x + y) % 5;
                    matrix[y][x] = value < 2 ? 1 : 0;
                }
            }
            
            // Add timing patterns
            for (let i = 0; i < size; i++) {
                matrix[6][i] = i % 2;
                matrix[i][6] = i % 2;
            }
            
            return matrix;
        }

        // Helper function to draw finder patterns
        function drawFinderPattern(ctx, x, y, cellSize) {
            // Outer square
            ctx.fillStyle = '#000000';
            ctx.fillRect(x, y, cellSize * 7, cellSize * 7);
            
            // Middle white square
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(x + cellSize, y + cellSize, cellSize * 5, cellSize * 5);
            
            // Inner black square
            ctx.fillStyle = '#000000';
            ctx.fillRect(x + cellSize * 2, y + cellSize * 2, cellSize * 3, cellSize * 3);
        }

        // Helper function to draw alignment patterns
        function drawAlignmentPattern(ctx, x, y, cellSize) {
            // Outer square
            ctx.fillStyle = '#000000';
            ctx.fillRect(x, y, cellSize * 5, cellSize * 5);
            
            // Middle white square
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(x + cellSize, y + cellSize, cellSize * 3, cellSize * 3);
            
            // Inner black square
            ctx.fillStyle = '#000000';
            ctx.fillRect(x + cellSize * 2, y + cellSize * 2, cellSize, cellSize);
        }

        // تحسين عرض معاينة الموقع مع تحميل محتوى حقيقي
        async function showWebsitePreview(url) {
            // Update URL display
            document.getElementById('previewUrl').textContent = url;
            
            // Try to load preview in iframe
            try {
                const previewContainer = document.getElementById('previewBrowserContent');
                previewContainer.innerHTML = '';
                
                // Create loading indicators
                const loadingContent = document.createElement('div');
                loadingContent.style.padding = '15px';
                loadingContent.innerHTML = `
                    <div style="width: 100%; height: 20px; margin-bottom: 10px;">
                        <div class="placeholder-img" style="height: 20px; width: 70%;"></div>
                    </div>
                    <div style="width: 100%; height: 100px; margin-bottom: 15px;">
                        <div class="placeholder-img" style="height: 100px;"></div>
                    </div>
                    <div style="width: 100%; height: 15px; margin-bottom: 10px;">
                        <div class="placeholder-img" style="height: 15px; width: 90%;"></div>
                    </div>
                    <div style="width: 100%; height: 15px; margin-bottom: 10px;">
                        <div class="placeholder-img" style="height: 15px; width: 80%;"></div>
                    </div>
                    <div style="width: 100%; height: 15px; margin-bottom: 10px;">
                        <div class="placeholder-img" style="height: 15px; width: 85%;"></div>
                    </div>
                `;
                previewContainer.appendChild(loadingContent);
                
                // Now try to load a preview if the URL is valid
                if (url && url.startsWith('http')) {
                    // في تطبيق حقيقي، يمكن استخدام proxy أو خدمة وساطة أو تقنية CORS Anywhere لتجنب مشاكل CORS
                    // لكن في هذا المثال التوضيحي سنستخدم طريقة بديلة
                    
                    // محاولة تحميل محتوى الموقع (في التطبيق الحقيقي سيكون هذا من خلال خادم خلفي)
                    setTimeout(async () => {
                        try {
                            // محاكاة التحليل البصري للموقع باستخدام معلومات الرابط المدخل
                            const domain = new URL(url).hostname;
                            const path = new URL(url).pathname;
                            
                            // تحديد نوع الموقع استناداً إلى المجال (محاكاة)
                            let websiteType = "generic";
                            if (domain.includes("blog") || domain.includes("wordpress") || domain.includes("medium")) {
                                websiteType = "blog";
                            } else if (domain.includes("shop") || domain.includes("store") || domain.includes("commerce")) {
                                websiteType = "ecommerce";
                            } else if (domain.includes("news") || domain.includes("article")) {
                                websiteType = "news";
                            }
                            
                            // إنشاء معاينة المحتوى بناءً على نوع الموقع
                            let websitePreview = '';
                            
                            switch (websiteType) {
                                case "blog":
                                    websitePreview = createBlogPreview(domain, path);
                                    break;
                                case "ecommerce":
                                    websitePreview = createEcommercePreview(domain, path);
                                    break;
                                case "news":
                                    websitePreview = createNewsPreview(domain, path);
                                    break;
                                default:
                                    websitePreview = createGenericPreview(domain, path);
                            }
                            
                            // عرض المعاينة في مستعرض المعاينة
                            previewContainer.innerHTML = websitePreview;
                            
                            // تحديث معاينة التطبيق
                            updateAppPreview(websiteType, domain, path);
                            
                        } catch (error) {
                            console.error("خطأ في تحميل المعاينة:", error);
                            previewContainer.innerHTML = `
                                <div style="padding: 20px; text-align: center;">
                                    <p style="color: #d32f2f;">تعذر تحميل معاينة لهذا الموقع</p>
                                    <p>قد يكون الموقع غير متاح أو أنه يمنع الوصول المباشر</p>
                                </div>
                            `;
                        }
                    }, 1500);
                }
            } catch (error) {
                console.error("Error loading preview:", error);
            }
        }

        // أنماط معاينة المواقع حسب النوع
        function createBlogPreview(domain, path) {
            const articleTitle = path.length > 1 ? 
                path.split('/').filter(p => p).map(p => p.replace(/[-_]/g, ' ')).join(' ') : 
                "مقالة رئيسية";
            
            return `
            <div style="padding: 15px; font-family: Arial, sans-serif;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                    <div style="font-weight: bold; font-size: 18px;">${domain}</div>
                    <div style="display: flex; gap: 10px;">
                        <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px;"></div>
                        <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px;"></div>
                    </div>
                </div>
                
                <h1 style="font-size: 24px; margin-bottom: 15px;">${articleTitle.charAt(0).toUpperCase() + articleTitle.slice(1)}</h1>
                
                <div style="display: flex; margin-bottom: 15px; font-size: 14px; color: #666;">
                    <div style="margin-right: 15px;">بواسطة: كاتب المدونة</div>
                    <div>${new Date().toLocaleDateString()}</div>
                </div>
                
                <div style="width: 100%; height: 200px; background-color: #f0f0f0; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; color: #888; font-size: 14px;">صورة المقالة</div>
                
                <p style="line-height: 1.6; margin-bottom: 15px;">
                    هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى، حيث يمكنك أن تولد مثل هذا النص أو العديد من النصوص الأخرى إضافة إلى زيادة عدد الحروف التى يولدها التطبيق.
                </p>
                
                <p style="line-height: 1.6; margin-bottom: 15px;">
                    إذا كنت تحتاج إلى عدد أكبر من الفقرات يتيح لك مولد النص العربى زيادة عدد الفقرات كما تريد، النص لن يبدو مقسما ولا يحوي أخطاء لغوية، مولد النص العربى مفيد لمصممي المواقع على وجه الخصوص، حيث يحتاج العميل فى كثير من الأحيان أن يطلع على صورة حقيقية لتصميم الموقع.
                </p>
                
                <div style="margin: 25px 0;">
                    <blockquote style="border-right: 3px solid #ddd; padding-right: 15px; margin-right: 0; font-style: italic; color: #555;">
                        هذا اقتباس من المدونة يظهر هنا كمثال على المحتوى المميز. يمكن أن يكون هذا الاقتباس جزءًا من المقالة أو اقتباسًا من مصدر خارجي.
                    </blockquote>
                </div>
                
                <div style="margin: 20px 0;">
                    <h2 style="font-size: 20px; margin-bottom: 15px;">العنوان الفرعي للمقالة</h2>
                    <p style="line-height: 1.6; margin-bottom: 15px;">
                        ومن هنا وجب على المصمم أن يضع نصوصا مؤقتة على التصميم ليظهر للعميل الشكل كاملاً،دور مولد النص العربى أن يوفر على المصمم عناء البحث عن نص بديل لا علاقة له بالموضوع الذى يتحدث عنه التصميم فيظهر بشكل لا يليق.
                    </p>
                    
                    <ul style="padding-right: 20px; margin: 15px 0; line-height: 1.6;">
                        <li style="margin-bottom: 8px;">نقطة مهمة في المقالة</li>
                        <li style="margin-bottom: 8px;">نقطة ثانية تستحق الذكر</li>
                        <li style="margin-bottom: 8px;">نقطة ثالثة توضح الفكرة</li>
                    </ul>
                </div>
                
                <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;">
                    <div style="font-weight: bold; margin-bottom: 15px;">مقالات ذات صلة</div>
                    <div style="display: flex; gap: 15px; overflow-x: auto;">
                        <div style="min-width: 150px; background-color: #f5f5f5; padding: 10px;">
                            <div style="height: 80px; background-color: #e0e0e0; margin-bottom: 10px;"></div>
                            <div style="font-size: 14px; font-weight: 500;">عنوان مقالة ذات صلة</div>
                        </div>
                        <div style="min-width: 150px; background-color: #f5f5f5; padding: 10px;">
                            <div style="height: 80px; background-color: #e0e0e0; margin-bottom: 10px;"></div>
                            <div style="font-size: 14px; font-weight: 500;">عنوان مقالة ذات صلة</div>
                        </div>
                        <div style="min-width: 150px; background-color: #f5f5f5; padding: 10px;">
                            <div style="height: 80px; background-color: #e0e0e0; margin-bottom: 10px;"></div>
                            <div style="font-size: 14px; font-weight: 500;">عنوان مقالة ذات صلة</div>
                        </div>
                    </div>
                </div>
            </div>
            `;
        }

        function createEcommercePreview(domain, path) {
            const isProductPage = path.includes('product') || path.includes('item') || path.split('/').length > 2;
            
            if (isProductPage) {
                const productName = path.split('/').filter(p => p).pop().replace(/[-_]/g, ' ');
                
                return `
                <div style="padding: 15px; font-family: Arial, sans-serif;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                        <div style="font-weight: bold; font-size: 18px;">${domain}</div>
                        <div style="display: flex; gap: 10px;">
                            <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px; display: flex; align-items: center; justify-content: center;">
                                <div style="width: 10px; height: 10px; background-color: #666;"></div>
                            </div>
                            <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px; position: relative;">
                                <div style="position: absolute; top: -5px; right: -5px; width: 12px; height: 12px; background-color: #f44336; border-radius: 50%; font-size: 8px; color: white; display: flex; align-items: center; justify-content: center;">2</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 20px; margin-bottom: 20px; flex-wrap: wrap;">
                        <div style="flex: 1; min-width: 250px;">
                            <div style="width: 100%; height: 300px; background-color: #f0f0f0; margin-bottom: 10px; display: flex; align-items: center; justify-content: center;">صورة المنتج</div>
                            <div style="display: flex; gap: 10px; margin-top: 10px;">
                                <div style="width: 60px; height: 60px; background-color: #e0e0e0;"></div>
                                <div style="width: 60px; height: 60px; background-color: #e0e0e0;"></div>
                                <div style="width: 60px; height: 60px; background-color: #e0e0e0;"></div>
                            </div>
                        </div>
                        
                        <div style="flex: 1; min-width: 250px;">
                            <h1 style="font-size: 22px; margin-bottom: 10px;">${productName.charAt(0).toUpperCase() + productName.slice(1)}</h1>
                            
                            <div style="display: flex; margin-bottom: 15px;">
                                <div style="display: flex; margin-right: 15px;">
                                    <span style="color: gold;">★★★★</span><span style="color: #ccc;">★</span>
                                </div>
                                <span style="color: #666; font-size: 14px;">(42 تقييم)</span>
                            </div>
                            
                            <div style="font-size: 24px; font-weight: bold; margin-bottom: 15px; color: #4a4a4a;">
                                ${Math.floor(Math.random() * 500) + 99} ريال
                                <span style="font-size: 16px; color: #999; text-decoration: line-through; margin-right: 10px;">${Math.floor(Math.random() * 700) + 199} ريال</span>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <div style="font-weight: 500; margin-bottom: 8px;">اللون:</div>
                                <div style="display: flex; gap: 10px;">
                                    <div style="width: 30px; height: 30px; border-radius: 50%; background-color: #333; border: 2px solid #4a4a4a;"></div>
                                    <div style="width: 30px; height: 30px; border-radius: 50%; background-color: #6d4c41;"></div>
                                    <div style="width: 30px; height: 30px; border-radius: 50%; background-color: #1976d2;"></div>
                                </div>
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <div style="font-weight: 500; margin-bottom: 8px;">المقاس:</div>
                                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                    <div style="padding: 8px 15px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">S</div>
                                    <div style="padding: 8px 15px; border: 1px solid #4a4a4a; border-radius: 4px; font-size: 14px; background-color: #f5f5f5;">M</div>
                                    <div style="padding: 8px 15px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">L</div>
                                    <div style="padding: 8px 15px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px;">XL</div>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 10px; margin-top: 20px;">
                                <div style="flex: 1; padding: 12px; background-color: #4a4a4a; color: white; text-align: center; border-radius: 4px; font-weight: 500;">إضافة للسلة</div>
                                <div style="width: 50px; height: 44px; background-color: #f5f5f5; border: 1px solid #ddd; border-radius: 4px; display: flex; align-items: center; justify-content: center;">
                                    <div style="width: 20px; height: 20px; background-color: #ddd; mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>'); -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <div style="border-bottom: 1px solid #eee; margin-bottom: 20px;">
                            <div style="display: inline-block; padding: 10px 20px; border-bottom: 2px solid #4a4a4a; font-weight: 500;">تفاصيل المنتج</div>
                        </div>
                        
                        <p style="line-height: 1.6; margin-bottom: 15px;">
                            هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى، حيث يمكنك أن تولد مثل هذا النص أو العديد من النصوص الأخرى إضافة إلى زيادة عدد الحروف التى يولدها التطبيق.
                        </p>
                        
                        <div style="display: flex; flex-wrap: wrap;">
                            <div style="width: 50%; min-width: 200px; padding-right: 15px; margin-bottom: 10px;">
                                <div style="display: flex; padding: 8px 0; border-bottom: 1px solid #eee;">
                                    <div style="width: 120px; color: #666;">المادة:</div>
                                    <div>100% قطن</div>
                                </div>
                            </div>
                            <div style="width: 50%; min-width: 200px; padding-right: 15px; margin-bottom: 10px;">
                                <div style="display: flex; padding: 8px 0; border-bottom: 1px solid #eee;">
                                    <div style="width: 120px; color: #666;">الوزن:</div>
                                    <div>250 جرام</div>
                                </div>
                            </div>
                            <div style="width: 50%; min-width: 200px; padding-right: 15px; margin-bottom: 10px;">
                                <div style="display: flex; padding: 8px 0; border-bottom: 1px solid #eee;">
                                    <div style="width: 120px; color: #666;">بلد المنشأ:</div>
                                    <div>تركيا</div>
                                </div>
                            </div>
                            <div style="width: 50%; min-width: 200px; padding-right: 15px; margin-bottom: 10px;">
                                <div style="display: flex; padding: 8px 0; border-bottom: 1px solid #eee;">
                                    <div style="width: 120px; color: #666;">رمز المنتج:</div>
                                    <div>SKU12345</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <h3 style="margin-bottom: 15px;">منتجات مشابهة</h3>
                        <div style="display: flex; gap: 15px; overflow-x: auto;">
                            <div style="min-width: 150px; background-color: #f5f5f5; padding: 10px;">
                                <div style="height: 120px; background-color: #e0e0e0; margin-bottom: 10px;"></div>
                                <div style="font-size: 14px;">منتج مشابه</div>
                                <div style="font-weight: 500; color: #4a4a4a; margin-top: 5px;">${Math.floor(Math.random() * 300) + 99} ريال</div>
                            </div>
                            <div style="min-width: 150px; background-color: #f5f5f5; padding: 10px;">
                                <div style="height: 120px; background-color: #e0e0e0; margin-bottom: 10px;"></div>
                                <div style="font-size: 14px;">منتج مشابه</div>
                                <div style="font-weight: 500; color: #4a4a4a; margin-top: 5px;">${Math.floor(Math.random() * 300) + 99} ريال</div>
                            </div>
                            <div style="min-width: 150px; background-color: #f5f5f5; padding: 10px;">
                                <div style="height: 120px; background-color: #e0e0e0; margin-bottom: 10px;"></div>
                                <div style="font-size: 14px;">منتج مشابه</div>
                                <div style="font-weight: 500; color: #4a4a4a; margin-top: 5px;">${Math.floor(Math.random() * 300) + 99} ريال</div>
                            </div>
                        </div>
                    </div>
                </div>
                `;
            } else {
                // صفحة رئيسية
                return `
                <div style="padding: 15px; font-family: Arial, sans-serif;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                        <div style="font-weight: bold; font-size: 18px;">${domain}</div>
                        <div style="display: flex; gap: 10px;">
                            <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px; display: flex; align-items: center; justify-content: center;">
                                <div style="width: 10px; height: 10px; background-color: #666;"></div>
                            </div>
                            <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px; position: relative;">
                                <div style="position: absolute; top: -5px; right: -5px; width: 12px; height: 12px; background-color: #f44336; border-radius: 50%; font-size: 8px; color: white; display: flex; align-items: center; justify-content: center;">2</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="width: 100%; height: 200px; background-color: #f0f0f0; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; position: relative;">
                        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
                            <div style="text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; margin-bottom: 10px;">تخفيضات الموسم</div>
                                <div style="font-size: 16px; margin-bottom: 15px;">خصم يصل إلى 50% على منتجات مختارة</div>
                                <div style="padding: 8px 20px; background-color: #4a4a4a; color: white; display: inline-block; border-radius: 4px;">تسوق الآن</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <h2 style="margin-bottom: 15px; font-size: 20px;">الأقسام الرئيسية</h2>
                        <div style="display: flex; gap: 15px; overflow-x: auto;">
                            <div style="min-width: 120px; text-align: center;">
                                <div style="width: 80px; height: 80px; background-color: #e0e0e0; border-radius: 50%; margin: 0 auto 10px;"></div>
                                <div>ملابس</div>
                            </div>
                            <div style="min-width: 120px; text-align: center;">
                                <div style="width: 80px; height: 80px; background-color: #e0e0e0; border-radius: 50%; margin: 0 auto 10px;"></div>
                                <div>أحذية</div>
                            </div>
                            <div style="min-width: 120px; text-align: center;">
                                <div style="width: 80px; height: 80px; background-color: #e0e0e0; border-radius: 50%; margin: 0 auto 10px;"></div>
                                <div>إكسسوارات</div>
                            </div>
                            <div style="min-width: 120px; text-align: center;">
                                <div style="width: 80px; height: 80px; background-color: #e0e0e0; border-radius: 50%; margin: 0 auto 10px;"></div>
                                <div>رياضة</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <h2 style="font-size: 20px; margin: 0;">المنتجات الأكثر مبيعاً</h2>
                            <div style="color: #4a4a4a; font-size: 14px;">عرض الكل</div>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px;">
                            <div style="background-color: #fff; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                                <div style="height: 180px; background-color: #f0f0f0; position: relative;">
                                    <div style="position: absolute; top: 10px; left: 10px; background-color: #f44336; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">-20%</div>
                                </div>
                                <div style="padding: 10px;">
                                    <div style="font-size: 14px; margin-bottom: 5px;">منتج مميز</div>
                                    <div style="font-weight: 500; display: flex; justify-content: space-between; align-items: center;">
                                        <div>${Math.floor(Math.random() * 300) + 99} ريال</div>
                                        <div style="font-size: 12px; color: #999; text-decoration: line-through;">${Math.floor(Math.random() * 400) + 199} ريال</div>
                                    </div>
                                </div>
                            </div>
                            <div style="background-color: #fff; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                                <div style="height: 180px; background-color: #f0f0f0;"></div>
                                <div style="padding: 10px;">
                                    <div style="font-size: 14px; margin-bottom: 5px;">منتج مميز</div>
                                    <div style="font-weight: 500;">${Math.floor(Math.random() * 300) + 99} ريال</div>
                                </div>
                            </div>
                            <div style="background-color: #fff; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                                <div style="height: 180px; background-color: #f0f0f0;"></div>
                                <div style="padding: 10px;">
                                    <div style="font-size: 14px; margin-bottom: 5px;">منتج مميز</div>
                                    <div style="font-weight: 500;">${Math.floor(Math.random() * 300) + 99} ريال</div>
                                </div>
                            </div>
                            <div style="background-color: #fff; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                                <div style="height: 180px; background-color: #f0f0f0;"></div>
                                <div style="padding: 10px;">
                                    <div style="font-size: 14px; margin-bottom: 5px;">منتج مميز</div>
                                    <div style="font-weight: 500;">${Math.floor(Math.random() * 300) + 99} ريال</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <div style="display: flex; gap: 15px; overflow-x: auto;">
                            <div style="min-width: 280px; height: 150px; background-color: #f5f5f5; display: flex; align-items: center; justify-content: center; border-radius: 8px;">
                                <div style="text-align: center;">
                                    <div style="font-weight: 500; margin-bottom: 10px;">منتجات جديدة</div>
                                    <div style="padding: 5px 15px; background-color: #4a4a4a; color: white; display: inline-block; border-radius: 4px; font-size: 14px;">تسوق الآن</div>
                                </div>
                            </div>
                            <div style="min-width: 280px; height: 150px; background-color: #f5f5f5; display: flex; align-items: center; justify-content: center; border-radius: 8px;">
                                <div style="text-align: center;">
                                    <div style="font-weight: 500; margin-bottom: 10px;">منتجات مميزة</div>
                                    <div style="padding: 5px 15px; background-color: #4a4a4a; color: white; display: inline-block; border-radius: 4px; font-size: 14px;">تسوق الآن</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                `;
            }
        }

        function createNewsPreview(domain, path) {
            const isArticle = path.length > 1;
            
            if (isArticle) {
                const articleTitle = path.split('/').filter(p => p).map(p => p.replace(/[-_]/g, ' ')).join(' ');
                
                return `
                <div style="padding: 15px; font-family: Arial, sans-serif;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                        <div style="font-weight: bold; font-size: 18px;">${domain}</div>
                        <div style="display: flex; gap: 10px;">
                            <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px;"></div>
                            <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px;"></div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <div style="font-size: 12px; color: #e53935; text-transform: uppercase; margin-bottom: 5px;">أخبار عاجلة</div>
                        <h1 style="font-size: 24px; line-height: 1.3; margin-bottom: 10px;">${articleTitle.charAt(0).toUpperCase() + articleTitle.slice(1)}</h1>
                        
                        <div style="display: flex; margin-bottom: 15px; font-size: 14px; color: #666;">
                            <div style="margin-right: 15px;">بواسطة: فريق التحرير</div>
                            <div>${new Date().toLocaleDateString()} - ${new Date().getHours()}:${String(new Date().getMinutes()).padStart(2, '0')}</div>
                        </div>
                    </div>
                    
                    <div style="width: 100%; height: 250px; background-color: #f0f0f0; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; color: #888; font-size: 14px;">صورة الخبر</div>
                    
                    <p style="line-height: 1.6; margin-bottom: 15px; font-size: 16px;">
                        <strong>أعلن مصدر مسؤول اليوم عن...</strong> هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى، حيث يمكنك أن تولد مثل هذا النص أو العديد من النصوص الأخرى إضافة إلى زيادة عدد الحروف التى يولدها التطبيق.
                    </p>
                    
                    <p style="line-height: 1.6; margin-bottom: 15px;">
                        إذا كنت تحتاج إلى عدد أكبر من الفقرات يتيح لك مولد النص العربى زيادة عدد الفقرات كما تريد، النص لن يبدو مقسما ولا يحوي أخطاء لغوية، مولد النص العربى مفيد لمصممي المواقع على وجه الخصوص، حيث يحتاج العميل فى كثير من الأحيان أن يطلع على صورة حقيقية لتصميم الموقع.
                    </p>
                    
                    <blockquote style="background-color: #f5f5f5; padding: 15px; border-right: 4px solid #1976d2; margin: 20px 0;">
                        وأكد المسؤولون على أهمية هذه الخطوة في تعزيز الاستقرار الاقتصادي وتحقيق معدلات نمو أفضل خلال المرحلة المقبلة.
                    </blockquote>
                    
                    <p style="line-height: 1.6; margin-bottom: 15px;">
                        ومن هنا وجب على المصمم أن يضع نصوصا مؤقتة على التصميم ليظهر للعميل الشكل كاملاً،دور مولد النص العربى أن يوفر على المصمم عناء البحث عن نص بديل لا علاقة له بالموضوع الذى يتحدث عنه التصميم فيظهر بشكل لا يليق.
                    </p>
                    
                    <h2 style="font-size: 20px; margin: 25px 0 15px;">تفاصيل إضافية</h2>
                    
                    <p style="line-height: 1.6; margin-bottom: 15px;">
                        هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى، حيث يمكنك أن تولد مثل هذا النص أو العديد من النصوص الأخرى إضافة إلى زيادة عدد الحروف التى يولدها التطبيق.
                    </p>
                    
                    <div style="margin: 30px 0; padding: 20px 0; border-top: 1px solid #eee; border-bottom: 1px solid #eee;">
                        <div style="font-weight: bold; margin-bottom: 15px;">أخبار ذات صلة</div>
                        <div style="display: flex; gap: 15px; overflow-x: auto;">
                            <div style="min-width: 200px; background-color: #f5f5f5; padding: 10px; border-radius: 4px;">
                                <div style="height: 100px; background-color: #e0e0e0; margin-bottom: 10px;"></div>
                                <div style="font-size: 14px; font-weight: 500;">عنوان خبر ذو صلة هنا</div>
                                <div style="font-size: 12px; color: #666; margin-top: 5px;">منذ 3 ساعات</div>
                            </div>
                            <div style="min-width: 200px; background-color: #f5f5f5; padding: 10px; border-radius: 4px;">
                                <div style="height: 100px; background-color: #e0e0e0; margin-bottom: 10px;"></div>
                                <div style="font-size: 14px; font-weight: 500;">عنوان خبر ذو صلة هنا</div>
                                <div style="font-size: 12px; color: #666; margin-top: 5px;">منذ 5 ساعات</div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <div style="font-weight: bold; margin-bottom: 15px;">التعليقات (6)</div>
                        <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee;">
                            <div style="display: flex; gap: 10px;">
                                <div style="width: 40px; height: 40px; background-color: #e0e0e0; border-radius: 50%;"></div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 500; margin-bottom: 5px;">أحمد محمد</div>
                                    <div style="font-size: 14px;">خبر مهم جداً وينبغي متابعة تطوراته في الفترة المقبلة</div>
                                    <div style="font-size: 12px; color: #666; margin-top: 5px;">منذ ساعة</div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #eee;">
                            <div style="display: flex; gap: 10px;">
                                <div style="width: 40px; height: 40px; background-color: #e0e0e0; border-radius: 50%;"></div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 500; margin-bottom: 5px;">سارة علي</div>
                                    <div style="font-size: 14px;">أتمنى أن يكون لهذا القرار تأثير إيجابي على المواطنين</div>
                                    <div style="font-size: 12px; color: #666; margin-top: 5px;">منذ 2 ساعة</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                `;
            } else {
                // الصفحة الرئيسية
                return `
                <div style="padding: 15px; font-family: Arial, sans-serif;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                        <div style="font-weight: bold; font-size: 18px;">${domain}</div>
                        <div style="display: flex; gap: 10px;">
                            <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px;"></div>
                            <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px;"></div>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-bottom: 15px; overflow-x: auto;">
                        <div style="padding: 8px 15px; background-color: #4a4a4a; color: white; border-radius: 20px; white-space: nowrap; font-size: 14px;">الرئيسية</div>
                        <div style="padding: 8px 15px; background-color: #f5f5f5; border-radius: 20px; white-space: nowrap; font-size: 14px;">سياسة</div>
                        <div style="padding: 8px 15px; background-color: #f5f5f5; border-radius: 20px; white-space: nowrap; font-size: 14px;">اقتصاد</div>
                        <div style="padding: 8px 15px; background-color: #f5f5f5; border-radius: 20px; white-space: nowrap; font-size: 14px;">رياضة</div>
                        <div style="padding: 8px 15px; background-color: #f5f5f5; border-radius: 20px; white-space: nowrap; font-size: 14px;">تكنولوجيا</div>
                        <div style="padding: 8px 15px; background-color: #f5f5f5; border-radius: 20px; white-space: nowrap; font-size: 14px;">فن وثقافة</div>
                    </div>
                    
                    <div style="position: relative; margin-bottom: 30px;">
                        <div style="width: 100%; height: 250px; background-color: #f0f0f0;"></div>
                        <div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); padding: 20px 15px 15px; color: white;">
                            <div style="font-size: 12px; color: #ff9800; margin-bottom: 5px; text-transform: uppercase;">عاجل</div>
                            <h2 style="font-size: 20px; margin-bottom: 10px;">عنوان الخبر الرئيسي يظهر هنا ويمكن أن يكون على سطرين</h2>
                            <div style="font-size: 12px; opacity: 0.8;">منذ 30 دقيقة</div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <h3 style="font-size: 18px; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #e0e0e0;">
                            <span style="border-bottom: 2px solid #4a4a4a; padding-bottom: 10px;">أحدث الأخبار</span>
                        </h3>
                        
                        <div style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #eee;">
                            <div style="display: flex; gap: 15px;">
                                <div style="width: 120px; height: 90px; background-color: #f0f0f0;"></div>
                                <div style="flex: 1;">
                                    <h4 style="font-size: 16px; margin-bottom: 8px;">عنوان الخبر يظهر هنا ويمكن أن يكون على سطرين كاملين إذا كان طويلاً</h4>
                                    <div style="font-size: 12px; color: #666; margin-bottom: 5px;">قسم الاقتصاد</div>
                                    <div style="font-size: 12px; color: #666;">منذ ساعة</div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #eee;">
                            <div style="display: flex; gap: 15px;">
                                <div style="width: 120px; height: 90px; background-color: #f0f0f0;"></div>
                                <div style="flex: 1;">
                                    <h4 style="font-size: 16px; margin-bottom: 8px;">عنوان الخبر يظهر هنا ويمكن أن يكون على سطرين</h4>
                                    <div style="font-size: 12px; color: #666; margin-bottom: 5px;">قسم الرياضة</div>
                                    <div style="font-size: 12px; color: #666;">منذ ساعتين</div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #eee;">
                            <div style="display: flex; gap: 15px;">
                                <div style="width: 120px; height: 90px; background-color: #f0f0f0;"></div>
                                <div style="flex: 1;">
                                    <h4 style="font-size: 16px; margin-bottom: 8px;">عنوان الخبر يظهر هنا ويمكن أن يكون على سطرين</h4>
                                    <div style="font-size: 12px; color: #666; margin-bottom: 5px;">قسم التكنولوجيا</div>
                                    <div style="font-size: 12px; color: #666;">منذ 3 ساعات</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 30px; background-color: #f5f5f5; padding: 15px; border-radius: 4px;">
                        <h3 style="font-size: 18px; margin-bottom: 15px;">الأكثر قراءة</h3>
                        
                        <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #e0e0e0;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="background-color: #4a4a4a; color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px;">1</div>
                                <div style="flex: 1;">عنوان الخبر الأكثر قراءة يظهر هنا كاملاً</div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #e0e0e0;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="background-color: #4a4a4a; color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px;">2</div>
                                <div style="flex: 1;">عنوان الخبر الأكثر قراءة يظهر هنا كاملاً</div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid #e0e0e0;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="background-color: #4a4a4a; color: white; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px;">3</div>
                                <div style="flex: 1;">عنوان الخبر الأكثر قراءة يظهر هنا كاملاً</div>
                            </div>
                        </div>
                    </div>
                </div>
                `;
            }
        }

        function createGenericPreview(domain, path) {
            return `
            <div style="padding: 15px; font-family: Arial, sans-serif;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                    <div style="font-weight: bold; font-size: 18px;">${domain}</div>
                    <div style="display: flex; gap: 10px;">
                        <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px;"></div>
                        <div style="width: 20px; height: 20px; background-color: #eee; border-radius: 3px;"></div>
                    </div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <div style="display: flex; gap: 15px; overflow-x: auto;">
                        <div style="padding: 8px 15px; white-space: nowrap; font-size: 14px;">الرئيسية</div>
                        <div style="padding: 8px 15px; white-space: nowrap; font-size: 14px;">حول</div>
                        <div style="padding: 8px 15px; white-space: nowrap; font-size: 14px;">خدمات</div>
                        <div style="padding: 8px 15px; white-space: nowrap; font-size: 14px;">منتجات</div>
                        <div style="padding: 8px 15px; white-space: nowrap; font-size: 14px;">اتصل بنا</div>
                    </div>
                </div>
                
                <div style="width: 100%; height: 200px; background-color: #f0f0f0; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; text-align: center;">
                    <div>
                        <h1 style="font-size: 24px; margin-bottom: 10px;">${domain}</h1>
                        <p style="font-size: 16px; max-width: 400px; margin: 0 auto;">
                            موقع ${domain} يقدم خدمات متميزة في مجال ${domain.includes('.') ? domain.split('.')[0] : domain}
                        </p>
                    </div>
                </div>
                
                <div style="margin-bottom: 30px;">
                    <h2 style="font-size: 20px; margin-bottom: 15px;">خدماتنا</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">
                        <div style="padding: 15px; background-color: #f5f5f5; border-radius: 4px; text-align: center;">
                            <div style="width: 50px; height: 50px; background-color: #e0e0e0; border-radius: 50%; margin: 0 auto 10px;"></div>
                            <h3 style="font-size: 16px; margin-bottom: 10px;">خدمة 1</h3>
                            <p style="font-size: 14px; color: #666;">وصف قصير للخدمة يظهر هنا</p>
                        </div>
                        <div style="padding: 15px; background-color: #f5f5f5; border-radius: 4px; text-align: center;">
                            <div style="width: 50px; height: 50px; background-color: #e0e0e0; border-radius: 50%; margin: 0 auto 10px;"></div>
                            <h3 style="font-size: 16px; margin-bottom: 10px;">خدمة 2</h3>
                            <p style="font-size: 14px; color: #666;">وصف قصير للخدمة يظهر هنا</p>
                        </div>
                        <div style="padding: 15px; background-color: #f5f5f5; border-radius: 4px; text-align: center;">
                            <div style="width: 50px; height: 50px; background-color: #e0e0e0; border-radius: 50%; margin: 0 auto 10px;"></div>
                            <h3 style="font-size: 16px; margin-bottom: 10px;">خدمة 3</h3>
                            <p style="font-size: 14px; color: #666;">وصف قصير للخدمة يظهر هنا</p>
                        </div>
                    </div>
                </div>
                
                <div style="margin-bottom: 30px;">
                    <h2 style="font-size: 20px; margin-bottom: 15px;">من نحن</h2>
                    <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                        <div style="flex: 1; min-width: 250px;">
                            <div style="width: 100%; height: 200px; background-color: #f0f0f0;"></div>
                        </div>
                        <div style="flex: 1; min-width: 250px;">
                            <h3 style="font-size: 18px; margin-bottom: 10px;">${domain}</h3>
                            <p style="line-height: 1.6; margin-bottom: 10px;">
                                هذا النص هو مثال لنص يمكن أن يستبدل في نفس المساحة، لقد تم توليد هذا النص من مولد النص العربى، حيث يمكنك أن تولد مثل هذا النص أو العديد من النصوص الأخرى إضافة إلى زيادة عدد الحروف التى يولدها التطبيق.
                            </p>
                            <p style="line-height: 1.6;">
                                إذا كنت تحتاج إلى عدد أكبر من الفقرات يتيح لك مولد النص العربى زيادة عدد الفقرات كما تريد، النص لن يبدو مقسما ولا يحوي أخطاء لغوية.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h2 style="font-size: 20px; margin-bottom: 15px;">اتصل بنا</h2>
                    <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                        <div style="flex: 1; min-width: 250px;">
                            <div style="margin-bottom: 15px;">
                                <div style="font-weight: 500; margin-bottom: 5px;">العنوان:</div>
                                <div>شارع الرئيسي، المدينة</div>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <div style="font-weight: 500; margin-bottom: 5px;">البريد الإلكتروني:</div>
                                <div>info@${domain}</div>
                            </div>
                            <div>
                                <div style="font-weight: 500; margin-bottom: 5px;">الهاتف:</div>
                                <div>+xxx xxxx xxxx</div>
                            </div>
                        </div>
                        <div style="flex: 1; min-width: 250px;">
                            <div style="background-color: #f5f5f5; padding: 15px; border-radius: 4px;">
                                <div style="margin-bottom: 15px;">
                                    <div style="margin-bottom: 5px;">الاسم</div>
                                    <div style="width: 100%; height: 35px; background-color: #e0e0e0; border-radius: 4px;"></div>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <div style="margin-bottom: 5px;">البريد الإلكتروني</div>
                                    <div style="width: 100%; height: 35px; background-color: #e0e0e0; border-radius: 4px;"></div>
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <div style="margin-bottom: 5px;">الرسالة</div>
                                    <div style="width: 100%; height: 100px; background-color: #e0e0e0; border-radius: 4px;"></div>
                                </div>
                                <div style="padding: 10px 20px; background-color: #4a4a4a; color: white; display: inline-block; border-radius: 4px;">إرسال</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            `;
        }

        // تحديث معاينة التطبيق
        function updateAppPreview(websiteType, domain, path) {
            const previewContent = document.getElementById('previewContent');
            
            switch (websiteType) {
                case "blog":
                    previewContent.innerHTML = createAppPreviewContent("blog", domain, path);
                    break;
                case "ecommerce":
                    previewContent.innerHTML = createAppPreviewContent("ecommerce", domain, path);
                    break;
                case "news":
                    previewContent.innerHTML = createAppPreviewContent("news", domain, path);
                    break;
                default:
                    previewContent.innerHTML = createAppPreviewContent("generic", domain, path);
            }
        }

        // محتوى معاينة تطبيق
        function createAppPreviewContent(type, domain, path) {
            switch (type) {
                case "blog":
                    return `
                        <h3 style="margin-bottom: 10px;">${domain}</h3>
                        <div style="width: 100%; height: 80px; background-color: #f5f5f5; margin-bottom: 15px;"></div>
                        <p style="margin-bottom: 5px; font-weight: bold;">آخر المقالات من ${domain}</p>
                        <div style="width: 90%; height: 10px; background-color: #f0f0f0; margin-bottom: 8px;"></div>
                        <div style="width: 80%; height: 10px; background-color: #f0f0f0; margin-bottom: 8px;"></div>
                        <div style="width: 95%; height: 10px; background-color: #f0f0f0; margin-bottom: 15px;"></div>
                        <div style="width: 100%; height: 60px; background-color: #f5f5f5; margin-bottom: 15px;"></div>
                        <div style="width: 85%; height: 10px; background-color: #f0f0f0; margin-bottom: 8px;"></div>
                        <div style="width: 90%; height: 10px; background-color: #f0f0f0; margin-bottom: 8px;"></div>
                    `;
                    
                case "ecommerce":
                    return `
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                            <h3 style="margin: 0;">${domain}</h3>
                            <div style="width: 20px; height: 20px; background-color: #f5f5f5; border-radius: 50%; position: relative;">
                                <div style="position: absolute; top: -5px; right: -5px; width: 10px; height: 10px; background-color: #ff5722; border-radius: 50%;"></div>
                            </div>
                        </div>
                        <div style="width: 100%; height: 100px; background-color: #f5f5f5; margin-bottom: 20px;"></div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                            <div style="background-color: #f5f5f5; padding: 10px; border-radius: 4px;">
                                <div style="width: 100%; height: 60px; background-color: #eee; margin-bottom: 5px;"></div>
                                <div style="width: 80%; height: 8px; background-color: #ddd; margin-bottom: 5px;"></div>
                                <div style="width: 50%; height: 8px; background-color: #ddd;"></div>
                            </div>
                            <div style="background-color: #f5f5f5; padding: 10px; border-radius: 4px;">
                                <div style="width: 100%; height: 60px; background-color: #eee; margin-bottom: 5px;"></div>
                                <div style="width: 80%; height: 8px; background-color: #ddd; margin-bottom: 5px;"></div>
                                <div style="width: 50%; height: 8px; background-color: #ddd;"></div>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <div style="background-color: #f5f5f5; padding: 10px; border-radius: 4px;">
                                <div style="width: 100%; height: 60px; background-color: #eee; margin-bottom: 5px;"></div>
                                <div style="width: 80%; height: 8px; background-color: #ddd; margin-bottom: 5px;"></div>
                                <div style="width: 50%; height: 8px; background-color: #ddd;"></div>
                            </div>
                            <div style="background-color: #f5f5f5; padding: 10px; border-radius: 4px;">
                                <div style="width: 100%; height: 60px; background-color: #eee; margin-bottom: 5px;"></div>
                                <div style="width: 80%; height: 8px; background-color: #ddd; margin-bottom: 5px;"></div>
                                <div style="width: 50%; height: 8px; background-color: #ddd;"></div>
                            </div>
                        </div>
                    `;
                    
                case "news":
                    return `
                        <h3 style="margin-bottom: 10px;">${domain}</h3>
                        <div style="width: 100%; background-color: #f5f5f5; padding: 10px; margin-bottom: 15px; border-radius: 4px;">
                            <div style="width: 100%; height: 60px; background-color: #eee; margin-bottom: 8px;"></div>
                            <div style="width: 80%; height: 10px; background-color: #ddd; margin-
